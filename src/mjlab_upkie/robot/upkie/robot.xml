<?xml version="1.0" ?>
<!-- Generated using onshape-to-robot -->
<!-- Onshape https://cad.onshape.com/documents/626c0feba56391e940274c5a/w/1443de40ca7efab6f3e18861/e/f40baedc39efd40637593503 -->

<mujoco model="upkie">
  <compiler angle="radian" meshdir="assets" autolimits="true"/>

  <default>
    <default class="upkie">
      <joint frictionloss="0.1" armature="0.005"/>
      <position dampratio="1"/>
      <default class="visual">
        <geom type="mesh" contype="0" conaffinity="0" group="2"/>
      </default>
      <default class="collision">
        <geom group="3"/>
      </default>
    </default>
  </default>

  <!-- Additional no_slip.xml -->
  <option noslip_iterations="4"/>

  <worldbody>
    <!-- Link trunk -->
    <body name="trunk" pos="0 0 0" quat="1 0 0 0" childclass="upkie">
      <freejoint name="trunk_freejoint"/>
      <inertial pos="0.0855962 -0.000135877 -0.0372881" mass="2.6415" fullinertia="0.0127537 0.0217792 0.0147651 -6.48606e-05 -3.98875e-05 -0.000263842"/>
      <!-- Part back_cover -->
      <geom type="mesh" class="visual" pos="0 0.0002 0.0002" quat="1 5.55112e-16 -1.11022e-16 -1.27064e-16" mesh="back_cover" material="back_cover_material"/>
      <geom name="trunk_collision1" type="mesh" class="collision" pos="0 0.0002 0.0002" quat="1 5.55112e-16 -1.11022e-16 -1.27064e-16" mesh="back_cover" material="back_cover_material"/>
      <!-- Part right_side -->
      <geom type="mesh" class="visual" pos="0 0 0.0002" quat="1 0 0 0" mesh="right_side" material="right_side_material"/>
      <!-- Part separating_panel -->
      <geom type="mesh" class="visual" pos="-2.77556e-17 -3.46945e-17 -0.0002" quat="1 0 0 0" mesh="separating_panel" material="separating_panel_material"/>
      <!-- Part left_side -->
      <geom type="mesh" class="visual" pos="0 -6.16298e-33 0.0002" quat="1 5.55112e-17 0 0" mesh="left_side" material="left_side_material"/>
      <!-- Part top_cover -->
      <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="top_cover" material="top_cover_material"/>
      <geom name="trunk_collision2" type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="top_cover" material="top_cover_material"/>
      <!-- Part power_dist -->
      <geom type="mesh" class="visual" pos="0.055 0.0552 0.00024631" quat="5.61973e-15 0.707107 1.11022e-14 -0.707107" mesh="power_dist" material="power_dist_material"/>
      <!-- Part bottom_cover -->
      <geom type="mesh" class="visual" pos="0 0 0" quat="1 0 0 0" mesh="bottom_cover" material="bottom_cover_material"/>
      <geom name="trunk_collision3" type="mesh" class="collision" pos="0 0 0" quat="1 0 0 0" mesh="bottom_cover" material="bottom_cover_material"/>
      <!-- Part switch -->
      <geom type="mesh" class="visual" pos="0 0.035 0.0322" quat="0.707107 0 -0.707107 0" mesh="switch" material="switch_material"/>
      <!-- Part front_opening -->
      <geom type="mesh" class="visual" pos="2.2112e-16 -7.35523e-16 3.89966e-15" quat="1 -0 -0 -0" mesh="front_opening" material="front_opening_material"/>
      <geom name="trunk_collision4" type="mesh" class="collision" pos="2.2112e-16 -7.35523e-16 3.89966e-15" quat="1 -0 -0 -0" mesh="front_opening" material="front_opening_material"/>
      <!-- Part qdd100_stator -->
      <geom type="mesh" class="visual" pos="0.17 -2.08167e-17 0.0002" quat="6.12323e-17 -0 -0 -1" mesh="qdd100_stator" material="qdd100_stator_material"/>
      <geom type="mesh" class="collision" pos="0.17 -2.08167e-17 0.0002" quat="6.12323e-17 -0 -0 -1" mesh="qdd100_stator" material="qdd100_stator_material"/>
      <!-- Part back_opening -->
      <geom type="mesh" class="visual" pos="2.81978e-18 1.16573e-15 4.60743e-15" quat="1 0 0 0" mesh="back_opening" material="back_opening_material"/>
      <geom name="trunk_collision5" type="mesh" class="collision" pos="2.81978e-18 1.16573e-15 4.60743e-15" quat="1 0 0 0" mesh="back_opening" material="back_opening_material"/>
      <!-- Part qdd100_stator_2 -->
      <geom type="mesh" class="visual" pos="0 3.46945e-18 0.0002" quat="1 -0 -0 -5.88426e-18" mesh="qdd100_stator" material="qdd100_stator_material"/>
      <geom type="mesh" class="collision" pos="0 3.46945e-18 0.0002" quat="1 -0 -0 -5.88426e-18" mesh="qdd100_stator" material="qdd100_stator_material"/>
      <!-- Part battery_tattu -->
      <geom type="mesh" class="visual" pos="0.0625 -0.011 -0.0502" quat="0.5 0.5 0.5 0.5" mesh="battery_tattu" material="battery_tattu_material"/>
      <!-- Part raspberry -->
      <geom type="mesh" class="visual" pos="0.125001 0.0417 0.00774614" quat="1.70697e-15 -4.26124e-16 -6.42542e-15 1" mesh="raspberry" material="raspberry_material"/>
      <!-- Part front_cover -->
      <geom type="mesh" class="visual" pos="0 -0.0002 0.0002" quat="1 0 0 0" mesh="front_cover" material="front_cover_material"/>
      <geom name="trunk_collision6" type="mesh" class="collision" pos="0 -0.0002 0.0002" quat="1 0 0 0" mesh="front_cover" material="front_cover_material"/>
      <!-- Frame body -->
      <site group="0" name="body" pos="0.085 -2.54306e-17 -0.125" quat="0.707107 0 2.22045e-16 -0.707107"/>
      <!-- Frame imu -->
      <site group="0" name="imu" pos="0.125001 0.04095 0.00524614" quat="8.9938e-16 -1.49915e-15 -0.707107 0.707107"/>
      <!-- Link femur -->
      <body name="femur" pos="0.1987 -3.76205e-17 -0.0648" quat="0.5 0.5 0.5 0.5">
        <!-- Joint from trunk to femur -->
        <joint name="left_hip" type="hinge" range="-2.6179938779914944 2.6179938779914944"/>
        <inertial pos="-1.9262e-08 -0.142827 0.0596176" mass="0.7645" fullinertia="0.00377771 0.000940238 0.00358651 6.45614e-10 -5.25505e-10 0.000901135"/>
        <!-- Part qdd100_rotor -->
        <geom type="mesh" class="visual" pos="-6.16298e-33 0 -0.0287" quat="1 0 -1.11022e-16 2.77556e-17" mesh="qdd100_rotor" material="qdd100_rotor_material"/>
        <!-- Part qdd100_support -->
        <geom type="mesh" class="visual" pos="-1.59156e-16 -0.17015 0.0682487" quat="2.58494e-26 -0 -2.22045e-16 -1" mesh="qdd100_support" material="qdd100_support_material"/>
        <geom name="left_femur_collision1" type="mesh" class="collision" pos="-1.59156e-16 -0.17015 0.0682487" quat="2.58494e-26 -0 -2.22045e-16 -1" mesh="qdd100_support" material="qdd100_support_material"/>
        <!-- Part femur -->
        <geom type="mesh" class="visual" pos="4.1776e-16 -0.2 0.0261244" quat="0.5 -0.5 -0.5 -0.5" mesh="femur" material="femur_material"/>
        <!-- Part link_end -->
        <geom type="mesh" class="visual" pos="-6.16298e-33 0 -0.0287" quat="1 0 -1.11022e-16 2.77556e-17" mesh="link_end" material="link_end_material"/>
        <geom name="left_femur_collision2" type="mesh" class="collision" pos="-6.16298e-33 0 -0.0287" quat="1 0 -1.11022e-16 2.77556e-17" mesh="link_end" material="link_end_material"/>
        <!-- Part qdd100_stator_3 -->
        <geom type="mesh" class="visual" pos="-1.59156e-16 -0.17015 0.0682487" quat="2.58494e-26 -0 -2.22045e-16 -1" mesh="qdd100_stator__2" material="qdd100_stator__2_material"/>
        <geom name="left_femur_collision3" type="mesh" class="collision" pos="-1.59156e-16 -0.17015 0.0682487" quat="2.58494e-26 -0 -2.22045e-16 -1" mesh="qdd100_stator__2" material="qdd100_stator__2_material"/>
        <!-- Link tibia -->
        <body name="tibia" pos="-1.59156e-16 -0.17015 0.0969487" quat="2.68808e-19 0 -1 0">
          <!-- Joint from femur to tibia -->
          <joint name="left_knee" type="hinge" range="-2.6179938779914935 2.6179938779914953"/>
          <inertial pos="-5.94135e-06 -0.117367 -0.00307405" mass="0.3865" fullinertia="0.00259272 0.000261473 0.00249172 -1.62499e-07 1.48913e-08 0.000309417"/>
          <!-- Part qdd100_rotor_2 -->
          <geom type="mesh" class="visual" pos="-2.77556e-17 5.55112e-17 0.0287" quat="2.22045e-16 6.93889e-17 1 -3.33067e-16" mesh="qdd100_rotor" material="qdd100_rotor_material"/>
          <!-- Part moteus_controller -->
          <geom type="mesh" class="visual" pos="1.29974e-14 -0.1845 0.0046" quat="0.707107 -0.707107 -2.26485e-14 2.26029e-14" mesh="moteus_controller" material="moteus_controller_material"/>
          <!-- Part mj5208_stator -->
          <geom type="mesh" class="visual" pos="1.18042e-14 -0.1765 0.012" quat="1 -1.09558e-16 -5.55112e-16 -2.22045e-16" mesh="mj5208_stator" material="mj5208_stator_material"/>
          <!-- Part mj5208_support -->
          <geom type="mesh" class="visual" pos="1.17787e-14 -0.1765 0.03424" quat="0.707107 -0.707107 -2.26485e-14 2.26029e-14" mesh="mj5208_support" material="mj5208_support_material"/>
          <geom name="left_tibia_collision1" type="mesh" class="collision" pos="1.17787e-14 -0.1765 0.03424" quat="0.707107 -0.707107 -2.26485e-14 2.26029e-14" mesh="mj5208_support" material="mj5208_support_material"/>
          <!-- Part tibia -->
          <geom type="mesh" class="visual" pos="1.34392e-14 -0.2 -0.0261244" quat="0.5 -0.5 -0.5 -0.5" mesh="tibia" material="tibia_material"/>
          <!-- Part controller_bracket -->
          <geom type="mesh" class="visual" pos="1.17787e-14 -0.1765 0.03424" quat="0.707107 -0.707107 -2.26485e-14 2.26029e-14" mesh="controller_bracket" material="controller_bracket_material"/>
          <!-- Part link_end_2 -->
          <geom type="mesh" class="visual" pos="-2.77556e-17 5.55112e-17 0.0287" quat="2.22045e-16 6.93889e-17 1 -3.33067e-16" mesh="link_end" material="link_end_material"/>
          <geom name="left_tibia_collision2" type="mesh" class="collision" pos="-2.77556e-17 5.55112e-17 0.0287" quat="2.22045e-16 6.93889e-17 1 -3.33067e-16" mesh="link_end" material="link_end_material"/>
          <!-- Frame left_foot -->
          <site group="0" name="left_foot" pos="1.17717e-14 -0.1765 0.05095" quat="0.707107 -0.707107 -0 1.67713e-15"/>
          <!-- Link wheel -->
          <body name="wheel" pos="1.1805e-14 -0.1765 0.0195" quat="1.47878e-16 -0.707107 0.707107 2.19968e-16">
            <!-- Joint from tibia to wheel -->
            <joint name="left_wheel"/>
            <inertial pos="-7.85066e-06 4.53426e-06 -0.0252368" mass="0.2585" fullinertia="0.000202065 0.000202069 0.000313606 -7.7265e-09 1.97562e-08 -1.14162e-08"/>
            <!-- Part wheel_hub -->
            <geom type="mesh" class="visual" pos="0 0 -0.0104" quat="0.707107 0.707107 0 4.32365e-17" mesh="wheel_hub" material="wheel_hub_material"/>
            <!-- Part mj5208_rotor -->
            <geom type="mesh" class="visual" pos="0 0 0.0075" quat="0 1 0 0" mesh="mj5208_rotor" material="mj5208_rotor_material"/>
            <!-- Part tire -->
            <geom type="mesh" class="visual" pos="0 0 -0.0312" quat="0.707107 0.707107 0 3.5782e-17" mesh="tire" material="tire_material"/>
            <geom name="left_foot_collision" type="mesh" class="collision" pos="0 0 -0.0312" quat="0.707107 0.707107 0 3.5782e-17" mesh="tire" material="tire_material"/>
          </body>
        </body>
      </body>
      <!-- Link femur_2 -->
      <body name="femur_2" pos="-0.0287 1.38778e-17 -0.0648" quat="0.5 0.5 -0.5 -0.5">
        <!-- Joint from trunk to femur_2 -->
        <joint name="right_hip" type="hinge" range="-2.6179938779914944 2.6179938779914944"/>
        <inertial pos="-1.9262e-08 -0.142827 0.0596176" mass="0.7645" fullinertia="0.00377771 0.000940238 0.00358651 6.45614e-10 -5.25505e-10 0.000901135"/>
        <!-- Part qdd100_rotor_3 -->
        <geom type="mesh" class="visual" pos="0 0 -0.0287" quat="1 -0 -6.93889e-18 8.32189e-26" mesh="qdd100_rotor" material="qdd100_rotor_material"/>
        <!-- Part qdd100_support_2 -->
        <geom type="mesh" class="visual" pos="3.00879e-16 -0.17015 0.0682487" quat="5.55112e-17 0 -2.22045e-16 1" mesh="qdd100_support" material="qdd100_support_material"/>
        <geom name="right_femur_collision1" type="mesh" class="collision" pos="3.00879e-16 -0.17015 0.0682487" quat="5.55112e-17 0 -2.22045e-16 1" mesh="qdd100_support" material="qdd100_support_material"/>
        <!-- Part femur_2 -->
        <geom type="mesh" class="visual" pos="-8.60423e-17 -0.2 0.0261244" quat="0.5 -0.5 -0.5 -0.5" mesh="femur" material="femur_material"/>
        <!-- Part link_end_3 -->
        <geom type="mesh" class="visual" pos="0 0 -0.0287" quat="1 -0 -6.93889e-18 8.32189e-26" mesh="link_end" material="link_end_material"/>
        <geom name="right_femur_collision2" type="mesh" class="collision" pos="0 0 -0.0287" quat="1 -0 -6.93889e-18 8.32189e-26" mesh="link_end" material="link_end_material"/>
        <!-- Part qdd100_stator_4 -->
        <geom type="mesh" class="visual" pos="3.00879e-16 -0.17015 0.0682487" quat="5.55112e-17 0 -2.22045e-16 1" mesh="qdd100_stator__2" material="qdd100_stator__2_material"/>
        <geom name="right_femur_collision3" type="mesh" class="collision" pos="3.00879e-16 -0.17015 0.0682487" quat="5.55112e-17 0 -2.22045e-16 1" mesh="qdd100_stator__2" material="qdd100_stator__2_material"/>
        <!-- Link tibia_2 -->
        <body name="tibia_2" pos="3.00879e-16 -0.17015 0.0969487" quat="5.55112e-17 0 -1 0">
          <!-- Joint from femur_2 to tibia_2 -->
          <joint name="right_knee" type="hinge" range="-2.617993877991474 2.617993877991515"/>
          <inertial pos="-5.94135e-06 -0.117367 -0.00307405" mass="0.3865" fullinertia="0.00259272 0.000261473 0.00249172 -1.62499e-07 1.48913e-08 0.000309417"/>
          <!-- Part qdd100_rotor_4 -->
          <geom type="mesh" class="visual" pos="1.45027e-17 0 0.0287" quat="1.40513e-16 -9.99201e-15 -1 -1.16226e-16" mesh="qdd100_rotor" material="qdd100_rotor_material"/>
          <!-- Part moteus_controller_2 -->
          <geom type="mesh" class="visual" pos="7.35583e-15 -0.1845 0.0046" quat="0.707107 -0.707107 -1.54321e-14 1.59953e-14" mesh="moteus_controller" material="moteus_controller_material"/>
          <!-- Part mj5208_stator_2 -->
          <geom type="mesh" class="visual" pos="7.91935e-15 -0.1765 0.012" quat="1 3.3196e-16 4.44089e-16 5.46507e-14" mesh="mj5208_stator" material="mj5208_stator_material"/>
          <!-- Part mj5208_support_2 -->
          <geom type="mesh" class="visual" pos="7.93058e-15 -0.1765 0.03424" quat="0.707107 -0.707107 -1.54321e-14 1.59953e-14" mesh="mj5208_support" material="mj5208_support_material"/>
          <geom name="right_tibia_collision1" type="mesh" class="collision" pos="7.93058e-15 -0.1765 0.03424" quat="0.707107 -0.707107 -1.54321e-14 1.59953e-14" mesh="mj5208_support" material="mj5208_support_material"/>
          <!-- Part tibia_2 -->
          <geom type="mesh" class="visual" pos="8.41894e-15 -0.2 -0.0261244" quat="0.5 -0.5 -0.5 -0.5" mesh="tibia" material="tibia_material"/>
          <!-- Part controller_bracket_2 -->
          <geom type="mesh" class="visual" pos="7.93058e-15 -0.1765 0.03424" quat="0.707107 -0.707107 -1.54321e-14 1.59953e-14" mesh="controller_bracket" material="controller_bracket_material"/>
          <!-- Part link_end_4 -->
          <geom type="mesh" class="visual" pos="1.45027e-17 0 0.0287" quat="1.40513e-16 -9.99201e-15 -1 -1.16226e-16" mesh="link_end" material="link_end_material"/>
          <geom name="right_tibia_collision2" type="mesh" class="collision" pos="1.45027e-17 0 0.0287" quat="1.40513e-16 -9.99201e-15 -1 -1.16226e-16" mesh="link_end" material="link_end_material"/>
          <!-- Frame right_foot -->
          <site group="0" name="right_foot" pos="7.93903e-15 -0.1765 0.05095" quat="3.8497e-14 4.02312e-14 -0.707107 -0.707107"/>
          <!-- Link wheel_2 -->
          <body name="wheel_2" pos="1.14533e-14 -0.1765 0.0195" quat="4.1608e-18 -0.707107 0.707107 -1.56533e-18">
            <!-- Joint from tibia_2 to wheel_2 -->
            <joint name="right_wheel"/>
            <inertial pos="-7.85066e-06 4.53426e-06 -0.0252368" mass="0.2585" fullinertia="0.000202065 0.000202069 0.000313606 -7.7265e-09 1.97562e-08 -1.14162e-08"/>
            <!-- Part wheel_hub_2 -->
            <geom type="mesh" class="visual" pos="0 0 -0.0104" quat="0.707107 0.707107 -0 -0" mesh="wheel_hub" material="wheel_hub_material"/>
            <!-- Part mj5208_rotor_2 -->
            <geom type="mesh" class="visual" pos="0 0 0.0075" quat="0 1 0 0" mesh="mj5208_rotor" material="mj5208_rotor_material"/>
            <!-- Part tire_2 -->
            <geom type="mesh" class="visual" pos="0 0 -0.0312" quat="0.707107 0.707107 -0 -0" mesh="tire" material="tire_material"/>
            <geom name="right_foot_collision" type="mesh" class="collision" pos="0 0 -0.0312" quat="0.707107 0.707107 -0 -0" mesh="tire" material="tire_material"/>
          </body>
        </body>
      </body>
    </body>
  </worldbody>

  <asset>
    <mesh file="raspberry.stl"/>
    <mesh file="controller_bracket.stl"/>
    <mesh file="front_opening.stl"/>
    <mesh file="bottom_cover.stl"/>
    <mesh file="battery_tattu.stl"/>
    <mesh file="femur.stl"/>
    <mesh file="wheel_hub.stl"/>
    <mesh file="mj5208_rotor.stl"/>
    <mesh file="qdd100_rotor.stl"/>
    <mesh file="qdd100_stator__2.stl"/>
    <mesh file="top_cover.stl"/>
    <mesh file="left_side.stl"/>
    <mesh file="power_dist.stl"/>
    <mesh file="mj5208_stator.stl"/>
    <mesh file="moteus_controller.stl"/>
    <mesh file="separating_panel.stl"/>
    <mesh file="back_cover.stl"/>
    <mesh file="tire.stl"/>
    <mesh file="right_side.stl"/>
    <mesh file="tibia.stl"/>
    <mesh file="qdd100_stator.stl"/>
    <mesh file="qdd100_support.stl"/>
    <mesh file="back_opening.stl"/>
    <mesh file="switch.stl"/>
    <mesh file="link_end.stl"/>
    <mesh file="front_cover.stl"/>
    <mesh file="mj5208_support.stl"/>
    <material name="back_cover_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="right_side_material" rgba="0.901961 0.901961 0.901961 1"/>
    <material name="separating_panel_material" rgba="0.768627 0.886275 0.952941 1"/>
    <material name="left_side_material" rgba="0.901961 0.901961 0.901961 1"/>
    <material name="top_cover_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="power_dist_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="bottom_cover_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="switch_material" rgba="0.501961 0.501961 0.501961 1"/>
    <material name="front_opening_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="qdd100_stator_material" rgba="0.196078 0.196078 0.196078 1"/>
    <material name="back_opening_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="battery_tattu_material" rgba="0.701961 0.701961 0.701961 1"/>
    <material name="raspberry_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="front_cover_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="qdd100_rotor_material" rgba="0.196078 0.196078 0.196078 1"/>
    <material name="qdd100_support_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="femur_material" rgba="0.901961 0.901961 0.901961 1"/>
    <material name="link_end_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="qdd100_stator__2_material" rgba="0.196078 0.196078 0.196078 1"/>
    <material name="moteus_controller_material" rgba="0.909804 0.678431 0.137255 1"/>
    <material name="mj5208_stator_material" rgba="0.980392 0.713725 0.00392157 1"/>
    <material name="mj5208_support_material" rgba="0.513725 0.415686 0.733333 1"/>
    <material name="tibia_material" rgba="0.901961 0.901961 0.901961 1"/>
    <material name="controller_bracket_material" rgba="0.627451 0.627451 0.627451 1"/>
    <material name="wheel_hub_material" rgba="0.901961 0.901961 0.901961 1"/>
    <material name="mj5208_rotor_material" rgba="0.196078 0.196078 0.196078 1"/>
    <material name="tire_material" rgba="0.301961 0.301961 0.301961 1"/>
  </asset>
  
  <actuator>
    <position name="left_hip" joint="left_hip" kp="3" kv="0.1" forcerange="-20.0 20.0"/>
    <position name="left_knee" joint="left_knee" kp="3" kv="0.1" forcerange="-20.0 20.0"/>
    <velocity name="left_wheel" joint="left_wheel" kv="5" forcerange="-10.0 10.0"/>
    <position name="right_hip" joint="right_hip" kp="3" kv="0.1" forcerange="-20.0 20.0"/>
    <position name="right_knee" joint="right_knee" kp="3" kv="0.1" forcerange="-20.0 20.0"/>
    <velocity name="right_wheel" joint="right_wheel" kv="5" forcerange="-10.0 10.0"/>
  </actuator>

  <sensor>
    <framequat name="imu_orientation" objtype="site" objname="imu" />
    <gyro name="imu_ang_vel" site="imu" />
    <velocimeter name="imu_lin_vel" site="imu" />
  </sensor>

  <equality/>
</mujoco>
